!function(n,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("InquiryMonad",[],i):"object"==typeof exports?exports.InquiryMonad=i():n.InquiryMonad=i()}(window,function(){return function(n){var i={};function o(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return n[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=i,o.d=function(n,i,t){o.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:t})},o.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},o.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(i,"a",i),i},o.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},o.p="",o(o.s=2)}([function(n,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.$$inquirySymbol=Symbol(),i.$$questionsetSymbol=Symbol(),i.$$questionSymbol=Symbol(),i.$$passSymbol=Symbol(),i.$$failSymbol=Symbol(),i.$$iouSymbol=Symbol()},function(n,i){const o=n=>({isJust:!0,isNothing:!1,inspect:i=>`Just(${n})`,map:i=>s.of(i(n)),ap:i=>i.map(n),chain:i=>i(n),join:i=>n,fork:(i,o)=>o(n),sequence:i=>n.map(s.of)}),t=n=>({isJust:!1,isNothing:!0,inspect:n=>"Nothing",map:n=>t(),ap:n=>t(),chain:n=>t(),join:n=>t(),fork:(n,i)=>n(),sequence:n=>n(t())}),s={of:n=>null===n||void 0===n?t():o(n)};n.exports={Maybe:s,Nothing:t,Just:o}},function(n,i,o){"use strict";var t=this&&this.__awaiter||function(n,i,o,t){return new(o||(o=Promise))(function(s,e){function a(n){try{r(t.next(n))}catch(n){e(n)}}function u(n){try{r(t.throw(n))}catch(n){e(n)}}function r(n){n.done?s(n.value):new o(function(i){i(n.value)}).then(a,u)}r((t=t.apply(n,i||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const s=o(1),e=o(0);i.$$inquirySymbol=e.$$inquirySymbol;const a=()=>{},u=Symbol("Not found"),r=n=>({map:i=>r(i(n)),chain:i=>i(n),ap:i=>i.map(n),inspect:()=>`IOU(${n})`,join:()=>n,concat:i=>i.chain(i=>r(n.concat(i))),head:()=>Array.isArray(n)&&n.length?n[0]:[],tail:()=>Array.isArray(n)&&n.length?n[n.length-1]:[],isEmpty:()=>Boolean(!Array.isArray(n)||0===n.length),[e.$$inquirySymbol]:!1,[e.$$passSymbol]:!1,[e.$$failSymbol]:!1,[e.$$iouSymbol]:!0});i.IOU=r;const l=n=>({map:i=>l(i(n)),chain:i=>i(n),fold:(i,o)=>i(n),fork:(i,o)=>o(n),head:()=>Array.isArray(n)&&n.length?n[0]:[],tail:()=>Array.isArray(n)&&n.length?n[n.length-1]:[],join:()=>n,inspect:()=>`Pass(${n})`,concat:i=>i.fold(i=>l(n.concat(i)),a),ap:i=>i[e.$$passSymbol]?i.concat(l(n)):l(n),answer:(i,o="(anonymous)",t=$)=>(i.informant([o,l(n)]),t({subject:i.subject,fail:i.fail,iou:i.iou,pass:i.pass.concat(l(n)),informant:i.informant,questionset:i.questionset})),isEmpty:()=>Boolean(!Array.isArray(n)||0===n.length),[e.$$passSymbol]:!0,[e.$$failSymbol]:!1,[e.$$iouSymbol]:!1,[e.$$inquirySymbol]:!1});i.Pass=l;const c=n=>({map:i=>c(i(n)),chain:i=>i(n),fold:(i,o)=>o(n),fork:(i,o)=>i(n),head:()=>Array.isArray(n)&&n.length?n[0]:[],tail:()=>Array.isArray(n)&&n.length?n[n.length-1]:[],join:()=>n,inspect:()=>`Fail(${n})`,concat:i=>i.fork(i=>c(n.concat(i)),a),ap:i=>i[e.$$passSymbol]?c(n):i.concat(c(n)),answer:(i,o="(anonymous)",t=$)=>(i.informant([o,c(n)]),t({subject:i.subject,fail:i.fail.concat(c(n)),pass:i.pass,iou:i.iou,informant:i.informant,questionset:i.questionset})),isEmpty:()=>Boolean(!Array.isArray(n)||0===n.length),[e.$$passSymbol]:!1,[e.$$failSymbol]:!0,[e.$$iouSymbol]:!1,[e.$$inquirySymbol]:!1});i.Fail=c;const f=n=>({map:i=>f(i(n)),chain:i=>i(n),ap:i=>i.map(n),inspect:()=>`Question(${n})`,join:()=>n,call:i=>n[1](i.join().subject.join()),extract:()=>n[1],[e.$$questionSymbol]:!0}),p=n=>Array.isArray(n)?f(n):(n=>console.error("Question must be passed parameters that adhere to the documented type. Value that was passed:",n))(n),m={of:p};i.Question=m;const y=n=>({map:i=>y(i(n)),chain:i=>i(n),ap:i=>i.map(n),inspect:()=>`Questionset(${n})`,join:()=>n,find:i=>s.Maybe.of(n.find(n=>RegExp(n[0]).test(i))).map(n=>n[1]).fork(()=>(console.warn("Question was not found: ",i),u),n=>n),[e.$$questionsetSymbol]:!0}),b={of:n=>Array.isArray(n)?y(n):(n=>console.error("Questionset must be passed parameters that adhere to the documented type. Value that was passed:",n))(n)};i.Questionset=b;const j=n=>n[e.$$inquirySymbol]?n:$({subject:s.Maybe.of(n),fail:c([]),pass:l([]),iou:r([]),informant:n=>n,questionset:y([["",a]])}),$=n=>({inquire:i=>{const o=i[e.$$questionSymbol]?i.extract():i,t="function"==typeof o,s=t?o:n.questionset.find(o),a=t?o.name:o,u="function"==typeof s?s(n.subject.join()):{};return u[e.$$failSymbol]||u[e.$$passSymbol]||u[e.$$inquirySymbol]?u.answer(n,a,$):(i=>(console.warn("inquire was passed a function that does not return Pass or Fail:",a),console.warn("response was:",i),$(n)))([u,a])},inquireMap:(i,o)=>o.reduce((o,t)=>{const s=i[e.$$questionSymbol]?i.extract():i,a="function"==typeof s,u=a?s:n.questionset.find(s),r=a?s.name:s,l="function"==typeof u?u(t)(o.join().subject.join()):{};return l[e.$$failSymbol]||l[e.$$passSymbol]||l[e.$$inquirySymbol]?l.answer(o.join(),r,$):(n=>(console.warn("inquire was passed a function that does not return Pass or Fail:",r),console.warn("response was:",n),o))([l,r])},$({subject:n.subject,iou:n.iou,fail:n.fail,pass:n.pass,informant:n.informant,questionset:n.questionset})),inquireAll:()=>n.questionset.chain(i=>i.reduce((n,i)=>n.inquire(p(i)),$(n))),using:i=>$({subject:n.subject,iou:n.iou,fail:n.fail,pass:n.pass,informant:n.informant,questionset:i}),informant:i=>$({subject:n.subject,iou:n.iou,fail:n.fail,pass:n.pass,informant:i,questionset:n.questionset}),inspect:()=>`Inquiry(${n.fail.inspect()} ${n.pass.inspect()} ${n.iou.inspect()}`,swap:()=>$({subject:n.subject,iou:n.iou,fail:c(n.pass.join()),pass:l(n.fail.join()),informant:n.informant,questionset:n.questionset}),unison:i=>$({subject:n.subject,iou:n.iou,fail:c(i(n.fail.join())),pass:l(i(n.pass.join())),informant:n.informant,questionset:n.questionset}),map:i=>j(i(n)),ap:i=>i.map(n),chain:i=>i(n),join:()=>n,breakpoint:i=>n.fail.join().length?$(i(n)):$(n),milestone:i=>n.pass.join().length?$(i(n)):$(n),answer:(i,o,t)=>(i.informant([o,$(n)]),$({subject:i.subject,iou:i.iou,fail:i.fail.concat(n.fail),pass:i.pass.concat(n.pass),informant:i.informant,questionset:i.questionset})),conclude:(i,o)=>({subject:n.subject,iou:n.iou,fail:i(n.fail),pass:o(n.pass),informant:n.informant,questionset:n.questionset}),cleared:i=>n.fail.isEmpty()?i(n.pass):void 0,faulted:i=>n.fail.isEmpty()?void 0:i(n.fail),suffice:i=>n.pass.isEmpty()?void 0:i(n.pass),scratch:i=>n.pass.isEmpty()?i(n.fail):void 0,fork:(i,o)=>n.fail.join().length?i(n.fail):o(n.pass),fold:(i,o)=>n.pass.join().length?i(n.pass):o(n.fail),zip:i=>i(n.fail.join().concat(n.pass.join())),[e.$$inquirySymbol]:!0}),q={subject:j,of:n=>"subject"in n&&"fail"in n&&"pass"in n&&"iou"in n&&"informant"in n&&"questionset"in n?$(n):(n=>(console.warn("Inquiry.of requires properties: subject, fail, pass, iou, informant. Converting to Inquiry.subject()."),j(n)))(n)};i.Inquiry=q;const h=n=>n[e.$$inquirySymbol]?n:v({subject:s.Maybe.of(n),fail:c([]),pass:l([]),iou:r([]),informant:n=>n,questionset:y([["",a]])}),d=n=>"subject"in n&&"fail"in n&&"pass"in n&&"iou"in n&&"informant"in n&&"questionset"in n?v(n):(n=>(console.warn("InquiryP.of requires properties: subject, fail, pass, iou, informant. Converting to InquiryP.subject()."),h(n)))(n),S=n=>i=>i.reduce((n,i)=>i.answer(n,"(async fn)",v).join(),n),v=n=>({inquire:i=>{const o=i[e.$$questionSymbol]?i.extract():i,t="function"==typeof o,s=t?o:n.questionset.find(o),a=t?o.name:o,u="function"==typeof s?s(n.subject.join()):{};return u.then?v({subject:n.subject,fail:n.fail,pass:n.pass,iou:n.iou.concat(r([u])),informant:n.informant,questionset:n.questionset}):(i=>i[e.$$failSymbol]||i[e.$$passSymbol]||i[e.$$inquirySymbol]?i.answer(n,a,v):(i=>(console.warn("inquire was passed a function that does not return Pass or Fail:",a),console.warn("response was:",i),$(n)))([u,a]))(u)},inquireMap:(i,o)=>o.reduce((o,t)=>{const s=i[e.$$questionSymbol]?i.extract():i,a="function"==typeof s,u=a?s:n.questionset.find(s),c=a?s.name:s,f="function"==typeof u?u(t)(o.join().subject.join()):{};return f.then?v({subject:o.join().subject,fail:o.join().fail,pass:o.join().pass,iou:o.join().iou.concat(r([f])),informant:o.join().informant,questionset:o.join().questionset}):(i=>i[e.$$failSymbol]||i[e.$$passSymbol]||i[e.$$inquirySymbol]?i.answer(o.join(),c,v):l(i).answer(n,c,v))(f)},v({subject:n.subject,iou:n.iou,fail:n.fail,pass:n.pass,informant:n.informant,questionset:n.questionset})),inquireAll:()=>n.questionset.chain(i=>i.reduce((n,i)=>n.inquire(p(i)),v(n))),using:i=>v({subject:n.subject,iou:n.iou,fail:n.fail,pass:n.pass,informant:n.informant,questionset:i}),informant:i=>v({subject:n.subject,iou:n.iou,fail:n.fail,pass:n.pass,informant:i,questionset:n.questionset}),inspect:()=>`InquiryP(${n.fail.inspect()} ${n.pass.inspect()} ${n.iou.inspect()}`,swap:()=>v({subject:n.subject,iou:n.iou,fail:c(n.pass.join()),pass:l(n.fail.join()),informant:n.informant,questionset:n.questionset}),unison:i=>v({subject:n.subject,iou:n.iou,fail:c(i(n.fail.join())),pass:l(i(n.pass.join())),informant:n.informant,questionset:n.questionset}),map:i=>h(i(n)),ap:i=>i.map(n),chain:i=>i(n),join:()=>n,breakpoint:i=>n.fail.join().length?v(i(n)):v(n),milestone:i=>n.pass.join().length?v(i(n)):v(n),answer:(i,o,t)=>(i.informant([o,v(n)]),v({subject:i.subject,iou:i.iou,fail:i.fail.concat(n.fail),pass:i.pass.concat(n.pass),informant:i.informant,questionset:i.questionset})),conclude:(i,o)=>t(this,void 0,void 0,function*(){return Promise.all(n.iou.join()).then(S(n)).then(n=>n[e.$$inquirySymbol]?n.join():n).then(n=>({subject:n.subject,iou:n.iou,fail:i(n.fail),pass:o(n.pass),informant:n.informant,questionset:n.questionset}))}),cleared:i=>t(this,void 0,void 0,function*(){return Promise.all(n.iou.join()).then(S(n)).then(n=>n[e.$$inquirySymbol]?n.join():n).then(n=>n.fail.isEmpty()?i(n.pass):void 0).catch(n=>console.error("err",n))}),faulted:i=>t(this,void 0,void 0,function*(){return Promise.all(n.iou.join()).then(S(n)).then(n=>n[e.$$inquirySymbol]?n.join():n).then(n=>n.fail.isEmpty()?void 0:i(n.fail))}),suffice:i=>t(this,void 0,void 0,function*(){return Promise.all(n.iou.join()).then(S(n)).then(n=>n[e.$$inquirySymbol]?n.join():n).then(n=>n.pass.isEmpty()?void 0:i(n.pass)).catch(n=>console.error("err",n))}),scratch:i=>t(this,void 0,void 0,function*(){return Promise.all(n.iou.join()).then(S(n)).then(n=>n[e.$$inquirySymbol]?n.join():n).then(n=>n.pass.isEmpty()?i(n.fail):void 0)}),fork:(i,o)=>t(this,void 0,void 0,function*(){return Promise.all(n.iou.join()).then(S(n)).then(n=>n[e.$$inquirySymbol]?n.join():n).then(n=>n.fail.join().length?i(n.fail):o(n.pass))}),fold:(i,o)=>t(this,void 0,void 0,function*(){return Promise.all(n.iou.join()).then(S(n)).then(n=>n[e.$$inquirySymbol]?n.join():n).then(n=>n.pass.join().length?i(n.pass):o(n.fail))}),zip:i=>t(this,void 0,void 0,function*(){return Promise.all(n.iou.join()).then(S(n)).then(n=>n[e.$$inquirySymbol]?n.join():n).then(n=>i(n.fail.join().concat(n.pass.join())))}),await:(i=1/0)=>t(this,void 0,void 0,function*(){const o=new Promise((n,o)=>setTimeout(n,i,[c("Promise(s) have timed out")])),t=Promise.all(n.iou.join());return Promise.race([o,t]).then(S(n)).then(n=>n[e.$$inquirySymbol]?n.join():n).then(n=>d(n))}),[e.$$inquirySymbol]:!0}),w={subject:h,of:d};i.InquiryP=w}])});
//# sourceMappingURL=inquiry-monad.min.js.map